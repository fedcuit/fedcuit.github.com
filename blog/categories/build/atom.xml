<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: build | Feng erdong's Blog]]></title>
  <link href="http://fedcuit.github.com/blog/categories/build/atom.xml" rel="self"/>
  <link href="http://fedcuit.github.com/"/>
  <updated>2013-06-02T13:49:06+08:00</updated>
  <id>http://fedcuit.github.com/</id>
  <author>
    <name><![CDATA[Feng erdong]]></name>
    <email><![CDATA[fedcuit@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Useful gradle configuration]]></title>
    <link href="http://fedcuit.github.com/blog/2013/05/31/useful-gradle-config/"/>
    <updated>2013-05-31T21:56:00+08:00</updated>
    <id>http://fedcuit.github.com/blog/2013/05/31/useful-gradle-config</id>
    <content type="html"><![CDATA[<h1>Basic configuration</h1>

<ul>
<li>Must have: <code>java plugin</code>, <code>maven repo</code>, <code>dependencies</code>
```groovy
apply plugin: 'java'</li>
</ul>


<p>repositories {</p>

<pre><code>mavenCentral()
</code></pre>

<p>}</p>

<p>dependencies {</p>

<pre><code>testCompile 'info.cukes:cucumber-java:1.1.3'\
  , 'info.cukes:cucumber-junit:1.1.3'\
  , 'junit:junit:4.11'
</code></pre>

<p>}
```</p>

<ul>
<li>Enable to run cucumber
```groovy
configurations {
cucumberRuntime {
  extendsFrom testRuntime
}
}</li>
</ul>


<p>task cucumber() {
  dependsOn assemble, compileTestJava</p>

<pre><code>doLast {
  javaexec {
    main = "cucumber.api.cli.Main"
      classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output
  }
}
</code></pre>

<p>}
```</p>

<h1>Advanced configuration</h1>

<ul>
<li>Create gradle based project from template</li>
</ul>


<p>Simply add the following to your <code>~/.gradle/init.gradle</code> script:</p>

<p>```groovy
  gradle.beforeProject { prj -></p>

<pre><code>prj.apply from: 'http://www.tellurianring.com/projects/gradle-plugins/gradle-templates/apply.groovy'
</code></pre>

<p>  }
```</p>

<p>Type <code>gradle tasks</code> in any place where you want to create a gradle project, choose one from <code>Template Tasks</code>.</p>

<ul>
<li>Show dependencies <code>gradle dependencies</code></li>
<li>Configue dependencies using local jar files
<code>groovy
dependencies {
compile fileTree (dir: 'file:c:/Middleware/modules', includes: ['*.jar'])
compile fileTree (dir: 'file:../../../../../Libraries/trunk', includes: ['ViewController.jar'])
}
</code></li>
</ul>

]]></content>
  </entry>
  
</feed>
